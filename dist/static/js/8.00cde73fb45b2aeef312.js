webpackJsonp([8],{131:function(e,t,r){function n(e){r(288)}var o=r(41)(r(244),r(316),n,"data-v-acde74b8",null);e.exports=o.exports},147:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return l}),r.d(t,"h",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"g",function(){return c}),r.d(t,"e",function(){return m}),r.d(t,"d",function(){return p}),r.d(t,"c",function(){return A});var n=r(17),o=r.n(n),a=r(16),s=r.n(a),i=function(e){return o()({url:"/iotadmin/users/login",method:e._method,data:e.body}).then(function(e){return e})},l=function(e){return o()({url:"/iotadmin/users/"+e.userId,method:e._method,headers:{"content-type":"application/json","Rtt-Sign":s()(sessionStorage.getItem("login_TokenId")+e._url+e._method)+","+sessionStorage.getItem("login_Signature")}}).then(function(e){return e})},u=function(e){return o()({url:"/iotadmin/smsCodes/"+e.SMSCode,method:e._method,data:e.body}).then(function(e){return e})},d=function(e){return o()({url:"/iotadmin/smsCodes",method:e._method,data:e.body}).then(function(e){return e})},c=function(e){return o()({url:"/iotadmin/users",method:e._method,data:e.body}).then(function(e){return e})},m=function(e){return o()({url:"/iotadmin"+e._url,method:e._method,headers:{"content-type":"application/json","Rtt-Sign":s()(sessionStorage.getItem("login_TokenId")+e._url+e._method)+","+sessionStorage.getItem("login_Signature")}}).then(function(e){return e})},p=function(e){return o()({url:"/iotadmin"+e._url,method:e._method,headers:{"content-type":"application/json","Rtt-Sign":s()(sessionStorage.getItem("login_TokenId")+e._url+e._method)+","+sessionStorage.getItem("login_Signature")}}).then(function(e){return e})},A=function(e){return o()({url:"/iotadmin"+e._url,method:e._method,data:e._body,headers:{"content-type":"application/json","Rtt-Sign":s()(sessionStorage.getItem("login_TokenId")+e._url+e._method+e._body)+","+sessionStorage.getItem("login_Signature")}}).then(function(e){return e})}},171:function(e,t,r){"use strict";function n(e){return/^1[3|4|5|7|8][0-9]{9}$/.exec(e)}function o(e){return/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)/.exec(e)}t.a=n,t.b=o},181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1;t.default={data:function(){return{time:"获取验证码"}},props:{start:{type:Boolean}},watch:{start:function(e,t){1==e&&this.countDown()}},methods:{countDown:function(){var e=this;this.time=60;var t=setInterval(function(){0==--e.time&&(e.$emit("countDown"),e.time="获取验证码",n=!0,clearInterval(t))},1e3)}},filters:{change:function(e){return e?isNaN(e)?e:1==n?"重新发送"+e+"S":e+"S":""}}}},218:function(e,t,r){var n=r(41)(r(181),r(219),null,null,null);e.exports=n.exports},219:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",[e._v(e._s(e._f("change")(e.time)))])])},staticRenderFns:[]}},244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(147),o=r(171),a=r(218),s=r.n(a);t.default={components:{phoneCode:s.a},data:function(){var e=this;return{start:!1,ruleForm:{LoginName:"",SMSCode:"",Password:"",Password2:"",Mail:"",DisplayName:"",EnterpriseName:"",IndustryType:""},rules:{LoginName:[{validator:function(t,n,a){if(""===n)a(new Error("请输入手机号"));else if(r.i(o.a)(n)){var s="/iotadmin/users/loginName/"+n;e.$http({url:s,method:"POST"}).then(function(e){200==e.status&&a(new Error("您的账号已存在，请直接登录")),elss,a(new Error("未知错误"))}).catch(function(e){40000015==e.response.data.ErrCode?a():a(new Error("未知错误"))})}else a(new Error("请输入正确的手机号"))},trigger:"blur"}],SMSCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入正确的验证码",trigger:"blur"}],Password:[{validator:function(t,n,a){""===n?a(new Error("请输入密码")):r.i(o.b)(n)?(""!==e.ruleForm.Password2&&e.$refs.ruleForm.validateField("Password2"),a()):a(new Error("密码必须包含数字、字母和特殊字符两种以上"))},trigger:"blur"},{min:8,max:16,message:"密码长度在 8 到 16 个字符",trigger:"blur"}],Password2:[{validator:function(t,r,n){""===r?n(new Error("请再次输入密码")):r!==e.ruleForm.Password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}],Mail:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],DisplayName:[{required:!0,message:"请输入用户显示名称",trigger:"blur"}],EnterpriseName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],IndustryType:[{required:!0,message:"请选择企业所属类型",trigger:"change"}]}}},methods:{sendCode:function(e){var t=this,o=this;if(""==o.ruleForm.LoginName)this.$message({message:"请先输入手机号",type:"warning"});else{if(this.start=!0,""==o.ruleForm.LoginName)return console.log("error submit!!"),o.$message.error("网络错误，请稍后再试"),!1;var a={body:{LoginName:o.ruleForm.LoginName,OpType:0},_method:"POST"};r.i(n.f)(a).then(function(e){console.log("res:"+e),200==e.status?t.$message({message:"短息已发送成功，请注意查收",type:"success"}):t.$message.error("获取短信失败")}).catch(function(e){e.response?(e.response.data.ErrCode="40000004",o.$message.error("网络错误，请稍后再试")):(console.log("Error",e.message),o.$message.error("网络错误，请稍后再试")),console.log(e.config),o.$message.error("网络错误，请稍后再试")})}},submitForm:function(e){var t=this,o=this;o.$refs[e].validate(function(e){if(!e)return o.$message.error("注册失败"),!1;var a={body:{LoginName:o.ruleForm.LoginName,SMSCode:o.ruleForm.SMSCode,Password:t.md5(o.ruleForm.Password),Mail:o.ruleForm.Mail,DisplayName:o.ruleForm.DisplayName,EnterpriseName:o.ruleForm.EnterpriseName,IndustryType:parseInt(o.ruleForm.IndustryType)},_method:"POST"};r.i(n.g)(a).then(function(e){console.log("res:"+e),200==e.status?(t.$message({message:"恭喜你 注册成功，请登录",type:"success"}),t.$router.push("/login")):t.$message.error("注册失败")}).catch(function(e){return e.response?40000004==e.response.data.ErrCode?(o.$message.error("该手机号已注册，请直接登录"),!1):40000011==e.response.data.ErrCode?(o.$message.error("验证码错误，请输入正确的验证码"),!1):(o.$message.error("注册失败"),!1):(o.$message.error("注册失败"),!1)})})},handleLogin:function(e){this.$router.push("/login")}}}},264:function(e,t,r){t=e.exports=r(105)(!0),t.push([e.i,".login-wrap[data-v-acde74b8]{position:relative;width:100%;height:100%}.ms-title[data-v-acde74b8]{position:absolute;top:50%;width:100%;margin-top:-333px;text-align:center;font-size:30px;color:#fff}.ms-login[data-v-acde74b8]{position:absolute;left:50%;top:50%;width:300px;height:515px;margin:-280px 0 0 -190px;padding:40px;border-radius:5px;background:#fff}.register-btn[data-v-acde74b8]{text-align:center}.register_btn[data-v-acde74b8]{width:100%;height:36px}.login[data-v-acde74b8]{font-size:12px;line-height:40px;color:#999;text-align:right}.code[data-v-acde74b8],.login span[data-v-acde74b8]{color:#00d1b2;cursor:pointer}.code[data-v-acde74b8]{position:absolute;right:10px;top:0;display:block;width:85px;height:35px;text-align:right}.code.active[data-v-acde74b8]{color:#999;cursor:default}","",{version:3,sources:["C:/Users/Administrator/Desktop/realthread_IoT/vue_admin/src/views/user/Register.vue"],names:[],mappings:"AACA,6BACC,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACb,AACD,2BACC,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACZ,AACD,2BACC,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,YAAa,AACb,aAAc,AACd,yBAA0B,AAC1B,aAAc,AACd,kBAAmB,AACnB,eAAiB,CACjB,AACD,+BACC,iBAAmB,CACnB,AACD,+BACC,WAAY,AACZ,WAAa,CACb,AACD,wBACC,eAAgB,AAChB,iBAAkB,AAClB,WAAY,AACZ,gBAAkB,CAClB,AAKD,oDAHC,cAAe,AACf,cAAgB,CAYhB,AAVD,uBACC,kBAAmB,AACnB,WAAY,AACZ,MAAO,AAEP,cAAe,AACf,WAAY,AACZ,YAAa,AAEb,gBAAkB,CAClB,AACD,8BACC,WAAY,AACZ,cAAgB,CAChB",file:"Register.vue",sourcesContent:["\n.login-wrap[data-v-acde74b8] {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n.ms-title[data-v-acde74b8] {\n\tposition: absolute;\n\ttop: 50%;\n\twidth: 100%;\n\tmargin-top: -333px;\n\ttext-align: center;\n\tfont-size: 30px;\n\tcolor: #fff;\n}\n.ms-login[data-v-acde74b8] {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\twidth: 300px;\n\theight: 515px;\n\tmargin: -280px 0 0 -190px;\n\tpadding: 40px;\n\tborder-radius: 5px;\n\tbackground: #fff;\n}\n.register-btn[data-v-acde74b8] {\n\ttext-align: center;\n}\n.register_btn[data-v-acde74b8] {\n\twidth: 100%;\n\theight: 36px;\n}\n.login[data-v-acde74b8] {\n\tfont-size: 12px;\n\tline-height: 40px;\n\tcolor: #999;\n\ttext-align: right;\n}\n.login span[data-v-acde74b8] {\n\tcolor: #00d1b2;\n\tcursor: pointer;\n}\n.code[data-v-acde74b8] {\n\tposition: absolute;\n\tright: 10px;\n\ttop: 0;\n\tcolor: #00d1b2;\n\tdisplay: block;\n\twidth: 85px;\n\theight: 35px;\n\tcursor: pointer;\n\ttext-align: right;\n}\n.code.active[data-v-acde74b8] {\n\tcolor: #999;\n\tcursor: default;\n}\n"],sourceRoot:""}])},288:function(e,t,r){var n=r(264);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(106)("70efb960",n,!0)},316:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-title"},[e._v("后台管理系统")]),e._v(" "),r("div",{staticClass:"ms-login"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"LoginName"}},[r("el-input",{attrs:{placeholder:"请输入手机号","auto-complete":"off"},model:{value:e.ruleForm.LoginName,callback:function(t){e.ruleForm.LoginName=t},expression:"ruleForm.LoginName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"SMSCode"}},[r("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.ruleForm.SMSCode,callback:function(t){e.ruleForm.SMSCode=t},expression:"ruleForm.SMSCode"}}),e._v(" "),r("phone-code",{staticClass:"code",class:{active:e.start,no_active:!e.start},attrs:{start:e.start},on:{countDown:function(t){e.start=!1}},nativeOn:{click:function(t){e.sendCode(t)}}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"Password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.Password,callback:function(t){e.ruleForm.Password=t},expression:"ruleForm.Password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"Password2"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入密码","auto-complete":"off"},model:{value:e.ruleForm.Password2,callback:function(t){e.ruleForm.Password2=t},expression:"ruleForm.Password2"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"Mail"}},[r("el-input",{attrs:{type:"email",placeholder:"请输入常用邮箱","auto-complete":"off"},model:{value:e.ruleForm.Mail,callback:function(t){e.ruleForm.Mail=t},expression:"ruleForm.Mail"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"DisplayName"}},[r("el-input",{attrs:{type:"pickName",placeholder:"请输入用户显示名称"},model:{value:e.ruleForm.DisplayName,callback:function(t){e.ruleForm.DisplayName=t},expression:"ruleForm.DisplayName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"EnterpriseName"}},[r("el-input",{attrs:{type:"company",placeholder:"请输入企业名称"},model:{value:e.ruleForm.EnterpriseName,callback:function(t){e.ruleForm.EnterpriseName=t},expression:"ruleForm.EnterpriseName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"IndustryType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择企业所属行业类型"},model:{value:e.ruleForm.IndustryType,callback:function(t){e.ruleForm.IndustryType=t},expression:"ruleForm.IndustryType"}},[r("el-option",{attrs:{label:"网络 ",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"软件",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"集成电路",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"其它",value:"3"}})],1)],1),e._v(" "),r("el-button",{staticClass:"register_btn",attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("注册")]),e._v(" "),r("p",{staticClass:"login"},[e._v("已有帐号？\n\t\t\t\t"),r("span",{on:{click:function(t){e.handleLogin("login")}}},[e._v("立即登录")])])],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=8.00cde73fb45b2aeef312.js.map